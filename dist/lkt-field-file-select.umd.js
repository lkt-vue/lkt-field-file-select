(function(l,t){typeof exports=="object"&&typeof module<"u"?module.exports=t(require("vue"),require("lkt-string-tools"),require("lkt-field-select"),require("lkt-field-file")):typeof define=="function"&&define.amd?define(["vue","lkt-string-tools","lkt-field-select","lkt-field-file"],t):(l=typeof globalThis<"u"?globalThis:l||self,l.LktFieldFileSelect=t(l.Vue,l.lktStringTools,l.LktFieldSelect,l.LktFieldFile))})(this,function(l,t,u,s){"use strict";const n=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},c=n(u),f=n(s),V="",p={class:"lkt-field-file-select"},y=l.defineComponent({__name:"LktFieldFileSelect",props:{modelValue:{type:String,default:""},name:{type:String,default:t.generateRandomString(16)},label:{type:String,default:""},uploadResource:{type:String,default:""},uploadResourceData:{type:Object,default:()=>({})},accept:{type:String,default:"*/*"},placeholder:{type:String,default:""},palette:{type:String,default:""},readMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowReadModeSwitch:{type:Boolean,default:!1},tabindex:{type:Number,default:void 0},mandatory:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},resetMessage:{type:String,default:""},mandatoryMessage:{type:String,default:""},infoMessage:{type:String,default:""},errorMessage:{type:String,default:""},switchEditionMessage:{type:String,default:""},class:{type:String,default:""},valid:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},upperDropdown:{type:Boolean,default:!1},choiceDropdown:{type:Boolean,default:!1},emptyLabel:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},disabledOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},canTag:{type:Boolean,default:!1},noOptionsMessage:{type:String,default:void 0},resource:{type:String,default:""},resourceData:{type:[Object],default:()=>({})},searchStringResourceParam:{type:String,default:"query"},searchPlaceholder:{type:String,default:""},useResourceSlot:{type:String,default:""},multipleDisplay:{type:String,default:"list"},multipleDisplayEdition:{type:String,default:"inline"}},emits:["update:modelValue"],setup(e,{emit:m}){const S=e,g=m,o=l.ref(S.modelValue),k=l.ref(null),h=l.ref(null),r=l.ref("");l.watch(o,a=>g("update:modelValue",a));const b=()=>{},B=a=>{console.log("uploaded file","r: ",a)};return(a,d)=>{const F=l.resolveComponent("lkt-field-select"),D=l.resolveComponent("lkt-field-file");return l.openBlock(),l.createElementBlock("div",p,[l.createVNode(F,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=i=>o.value=i),ref_key:"input",ref:k,label:e.label,"read-mode":e.readMode,disabled:e.disabled,readonly:e.readonly,resource:e.resource,"resource-data":e.resourceData,options:e.options,"close-on-select":e.closeOnSelect,searchable:e.searchable,"upper-dropdown":e.upperDropdown,"choice-dropdown":e.choiceDropdown,"empty-label":e.emptyLabel,multiple:e.multiple,"search-string-resource-param":e.searchStringResourceParam,"search-placeholder":e.searchPlaceholder,"use-resource-slot":e.useResourceSlot,"multiple-display":e.multipleDisplay,"multiple-display-edition":e.multipleDisplayEdition},null,8,["modelValue","label","read-mode","disabled","readonly","resource","resource-data","options","close-on-select","searchable","upper-dropdown","choice-dropdown","empty-label","multiple","search-string-resource-param","search-placeholder","use-resource-slot","multiple-display","multiple-display-edition"]),!e.readMode&&!e.readonly&&!e.disabled?(l.openBlock(),l.createBlock(D,{key:0,modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=i=>r.value=i),ref_key:"fileInput",ref:h,resource:e.uploadResource,"resource-data":e.uploadResourceData,accept:e.accept,palette:e.palette,"read-mode":e.readMode,disabled:e.disabled,readonly:e.readonly,onUploading:b,onUploadSuccess:B},null,8,["modelValue","resource","resource-data","accept","palette","read-mode","disabled","readonly"])):l.createCommentVNode("",!0)])}}});return{install:e=>{e.component("lkt-field-file-select")===void 0&&e.component("lkt-field-file-select",y),e.component("lkt-field-select")===void 0&&e.use(c.default),e.component("lkt-field-file")===void 0&&e.use(f.default)}}});
